name: Compose YAML Lint (Windows)

on:
  workflow_dispatch:

jobs:
  yaml:
    runs-on: [ self-hosted, windows, x64, TENAT, HO-DOCKER-22, NEW ]
    defaults:
      run:
        shell: pwsh
    steps:
      - uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - name: Install yamllint
        run: pip install yamllint
      - name: Lint compose and workflow YAML
        run: |
          $ErrorActionPreference = 'Continue'
          if (Test-Path docker) { yamllint docker }
          yamllint .github\workflows

