## Static asset caching for hashed frontend files
## Note: Do not cache HTML to avoid stale document shells.

# Cache common static asset types aggressively; assume filenames are content-hashed
location ~* \.(?:css|js|mjs|png|jpg|jpeg|gif|svg|ico|webp|avif|woff|woff2|ttf|eot)$ {
    # Preserve proxy behavior to frontend service; we still add cache headers here
    include /etc/nginx/includes/common/proxy-params.conf;
    # proxy_pass is provided by the including server context
    
    # Caching headers
    add_header Cache-Control "public, max-age=2592000, immutable" always; # 30 days
    expires 30d;
}

